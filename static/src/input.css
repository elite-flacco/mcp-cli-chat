@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    @apply antialiased;
  }
  
  body {
    @apply bg-chat-bg text-chat-text;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  }
  
  code, pre {
    font-family: 'JetBrains Mono', Monaco, 'Cascadia Code', 'Roboto Mono', monospace;
  }
  
  kbd {
    @apply bg-chat-border text-chat-text-muted px-1.5 py-0.5 rounded text-xs border border-chat-border/50;
    font-family: inherit;
  }
}

@layer components {
  .chat-container {
    @apply max-w-4xl mx-auto h-screen flex flex-col bg-chat-surface border border-chat-border shadow-2xl;
  }
  
  .chat-header {
    @apply px-6 py-4 border-b border-chat-border bg-chat-surface/80 backdrop-blur-md;
    background: linear-gradient(135deg, theme('colors.chat.surface') 0%, rgba(26, 26, 46, 0.95) 100%);
  }
  
  .connection-status {
    @apply transition-all duration-200;
  }
  
  .chat-messages {
    @apply flex-1 overflow-y-auto p-6 space-y-6;
  }
  
  .message {
    @apply flex flex-col space-y-2;
  }
  
  .message-header {
    @apply flex items-center space-x-3;
  }
  
  .message-avatar {
    @apply w-7 h-7 rounded-full flex items-center justify-center text-white shadow-lg;
  }
  
  .message-avatar-user {
    @apply bg-gradient-to-br from-chat-user to-indigo-600;
  }
  
  .message-avatar-assistant {
    @apply bg-gradient-to-br from-chat-assistant to-emerald-600;
  }
  
  .message-avatar-error {
    @apply bg-gradient-to-br from-chat-error to-red-600;
  }
  
  .message-sender {
    @apply text-sm font-medium text-chat-text;
  }
  
  .message-time {
    @apply text-xs text-chat-text-muted opacity-75;
  }
  
  .message-content {
    @apply ml-10;
  }
  
  .message-bubble {
    @apply rounded-2xl px-4 py-3 max-w-4xl shadow-sm border backdrop-blur-sm;
    word-wrap: break-word;
  }
  
  .message-bubble-user {
    @apply bg-chat-user/15 border-chat-user/25 text-chat-text;
    background: linear-gradient(135deg, rgba(79, 70, 229, 0.15) 0%, rgba(99, 102, 241, 0.1) 100%);
  }
  
  .message-bubble-assistant {
    @apply bg-chat-assistant/15 border-chat-assistant/25 text-chat-text;
    background: linear-gradient(135deg, rgba(5, 150, 105, 0.15) 0%, rgba(16, 185, 129, 0.1) 100%);
  }
  
  .message-bubble-error {
    @apply bg-chat-error/15 border-chat-error/25 text-chat-error;
    background: linear-gradient(135deg, rgba(220, 38, 38, 0.15) 0%, rgba(239, 68, 68, 0.1) 100%);
  }
  
  .chat-input-container {
    @apply p-6 border-t border-chat-border bg-chat-surface/80 backdrop-blur-md;
    background: linear-gradient(135deg, theme('colors.chat.surface') 0%, rgba(26, 26, 46, 0.95) 100%);
  }
  
  .chat-form {
    @apply space-y-3;
  }
  
  .input-wrapper {
    @apply relative flex items-end bg-chat-bg border border-chat-border rounded-2xl shadow-lg focus-within:border-chat-user focus-within:shadow-chat-user/20 focus-within:shadow-lg transition-all duration-200;
  }
  
  .chat-input {
    @apply flex-1 bg-transparent px-4 py-3 text-chat-text placeholder-chat-text-muted focus:outline-none resize-none;
    min-height: 48px;
    max-height: 150px;
  }
  
  .input-actions {
    @apply flex items-center space-x-2 pr-3 pb-3;
  }
  
  .attachment-button {
    @apply p-2 text-chat-text-muted hover:text-chat-text hover:bg-chat-surface/50 rounded-lg transition-all duration-200;
  }
  
  .chat-button {
    @apply flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-chat-user to-indigo-600 hover:from-chat-user/90 hover:to-indigo-600/90 text-white rounded-xl font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-chat-user/25 hover:shadow-lg active:scale-95;
  }
  
  .send-icon {
    @apply transition-transform duration-200;
  }
  
  .chat-button:hover .send-icon {
    @apply transform translate-x-0.5;
  }
  
  .input-hint {
    @apply text-xs text-chat-text-muted text-center opacity-75;
  }
}